query PaginatedAllMarketOrdersQuery(
  $marketEntityId: String!
  $first: Int
  $skip: Int
) {
  orders(
    where: { market: $marketEntityId }
    first: $first
    skip: $skip
    orderDirection: desc
    orderBy: reportedAt
  ) {
    ...OrderEntityFieldsFragment
  }
}

query PaginatedSubaccountOrdersQuery(
  $subaccountEntityId: String!
  $first: Int
  $skip: Int
) {
  orders(
    where: { subaccount: $subaccountEntityId }
    first: $first
    skip: $skip
    orderDirection: desc
    orderBy: reportedAt
  ) {
    ...OrderEntityFieldsFragment
  }
}

query OrderByDigestQuery($digest: Bytes!, $marketEntityId: String!) {
  orders(where: { digest: $digest, market: $marketEntityId }) {
    ...OrderEntityFieldsFragment
  }
}

# All fields on Order
fragment OrderEntityFieldsFragment on Order {
  id
  digest
  validationResult
  priceX18
  subaccount {
    subaccountId
  }
  market {
    productId
  }
  reportedAt
  reportedAtBlock
  filledAmount
  totalAmount
  quoteAmount
  collectedFee
}
